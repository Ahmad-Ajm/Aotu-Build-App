# Clarify: تسجيل دخول المستخدم (FEAT-USER-LOGIN)

## 1. هدف الميزة
تمكين المستخدمين من تسجيل الدخول إلى النظام بطريقة آمنة وسهلة، للوصول إلى لوحة التحكم وجميع الميزات الشخصية (مثل إدارة السير الذاتية، الإعدادات، إلخ).

## 2. أسئلة توضيحية (مع افتراضات)
1. ما طرق تسجيل الدخول المدعومة؟
   - بافتراض في النسخة الأولى:
     - تسجيل الدخول بالبريد الإلكتروني + كلمة المرور.

2. هل يوجد تسجيل دخول اجتماعي (Google, GitHub, ...)?
   - بافتراض: غير موجود في النسخة الأولى، مع تجهيز البنية للتوسعة.

3. هل توجد آلية تحقق من البريد (Email Verification) قبل السماح بالدخول؟
   - بافتراض: نعم، يجب أن يكون البريد مفعّلاً، لكن يمكن الدخول مباشرة بعد التسجيل، مع إرسال بريد تفعيل؛ ويمكن تقييد بعض الميزات حتى التفعيل في إصدارات لاحقة.

4. ما سياسة كلمات المرور؟
   - بافتراض سياسة قياسية:
     - حد أدنى 8 أحرف.
     - تحتوي على حروف كبيرة وصغيرة وأرقام.

5. هل نحتاج "تذكرني" (Remember me)?
   - بافتراض: نعم، خيار اختياري يمدد مدة صلاحية الجلسة.

6. ما التقنية المستخدمة لإدارة الهوية؟
   - بافتراض: استخدام ABP Identity (بناءً على ASP.NET Core Identity) مع JWT أو Cookie Auth حسب إعدادات المشروع القياسية.

7. كيف يتم التعامل مع محاولات الدخول الفاشلة؟
   - بافتراض:
     - إظهار رسالة خطأ مناسبة دون كشف تفاصيل ("بيانات الدخول غير صحيحة").
     - قفل الحساب مؤقتاً بعد عدد محاولات معينة (قابلة للإعداد).

8. هل نحتاج 2FA (التحقق بخطوتين)؟
   - بافتراض: ليس في النسخة الأولى.

9. هل توجد واجهة API فقط أم واجهة ويب أيضاً؟
   - بافتراض: نظام Web app (Angular) يستهلك API من Backend (ABP).

10. ما صفحات/شاشات الواجهة الأمامية المرتبطة؟
    - شاشة تسجيل الدخول.
    - توجيه بعد النجاح إلى لوحة المستخدم أو الصفحة التي حاول الوصول لها سابقاً.

11. كيف يتم إدارة الجلسة في الواجهة الأمامية؟
    - بافتراض: تخزين رمز JWT في LocalStorage أو Cookie آمن (حسب إعدادات الأمن في المشروع)، مع Interceptor لتضمينه في كل طلب.

12. ما المتطلبات غير الوظيفية؟
    - الأمان: حماية من هجمات brute-force، XSS، CSRF (عبر آليات ABP الافتراضية).
    - الأداء: تسجيل الدخول < 1s في الظروف العادية.

13. هل يوجد تسجيل خروج (Logout) واضح؟
    - بافتراض: نعم، زر "تسجيل الخروج" في القائمة العلوية/الجانبية، يمسح الجلسة ويرجع المستخدم لصفحة الدخول.

## 3. نطاق النسخة الأولى (MVP)
- شاشة تسجيل دخول بسيطة.
- مصادقة بالبريد + كلمة المرور.
- رسالة خطأ واضحة عند فشل الدخول.
- إدارة جلسة في Angular مع استدعاء API لـ ABP.
- تسجيل خروج.

## 4. خارج النطاق حالياً
- تسجيل الدخول الاجتماعي.
- 2FA.
- إدارة أجهزة موثوقة.

## 5. افتراضات بيانات
- كل مستخدم له بريد إلكتروني فريد في النظام.
- يتم إنشاء المستخدمين إما عبر شاشة تسجيل جديدة (ميزة أخرى) أو عبر لوحة إدارة في الخلفية.
