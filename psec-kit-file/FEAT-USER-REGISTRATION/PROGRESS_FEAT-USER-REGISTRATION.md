# Progress - FEAT-USER-REGISTRATION

## الحالة العامة للميزة
- الحالة: In Progress
- الوصف: بدء تنفيذ جزء من الـ Backend الخاص بتسجيل المستخدمين (نقاط نهاية التسجيل وتسجيل الدخول).

## تقدم المهام (من tasks.md)
- [x] المهمة 1: إعداد بيئة التطوير
  - تم استخدام مشروع الـ backend القائم (`code/backend/CVSystem.sln`).
- [x] المهمة 2: تصميم قاعدة البيانات
  - الجداول والكيانات الأساسية للمستخدم والملف الشخصي موجودة وجاهزة (`User`, `UserProfile`, وتكوينها في `CVSystemDbContext`).
- [ ] المهمة 3: تطوير خدمة المستخدمين
  - لم يتم بعد إنشاء `UserService` كطبقة منفصلة.
- [ ] المهمة 4: تطوير خدمة المصادقة
  - لم يتم بعد إنشاء `AuthService` كطبقة خدمة؛ تم فقط تنفيذ منطق أولي في `AuthController`.
- [x] المهمة 5: تطوير المتحكمات
  - تم إنشاء `AuthController` مع نقاط النهاية:
    - `POST /api/auth/register`
    - `POST /api/auth/login`
- [ ] المهمة 6: تطوير Frontend - المكونات
- [ ] المهمة 7: تطوير Frontend - الخدمات
- [ ] المهمة 8: تطوير Frontend - التوجيه
- [ ] المهمة 9: التكامل والاختبار
- [ ] المهمة 10: التوثيق والمراجعة

## الملاحظات الحالية
- تم استخدام BCrypt لتشفير كلمات المرور كما هو مذكور في المواصفات.
- تم إنشاء توكن JWT مبدئي داخل `AuthController` وسيتطلب ضبط إعدادات `Jwt` في `appsettings` أو استخدام القيم الافتراضية الحالية لأغراض التطوير.
- لم يتم بعد تطبيق كامل قواعد قفل الحساب بعد 5 محاولات فاشلة؛ تم فقط التحقق من `IsActive`.

## الخطوات القادمة المقترحة
1. إنشاء طبقة خدمات (`UserService`, `AuthService`) ونقل المنطق من `AuthController` إليها.
2. دعم زيادة `FailedLoginAttempts` وقفل الحساب بعد 5 محاولات فاشلة.
3. إضافة نقطة نهاية لعرض الملف الشخصي وفق المواصفة.
4. البدء بتطوير واجهة Angular (التسجيل، تسجيل الدخول، الملف الشخصي، استعادة كلمة المرور).
5. تشغيل CI والتأكد من نجاح البناء والاختبارات بعد كل مجموعة تغييرات.
