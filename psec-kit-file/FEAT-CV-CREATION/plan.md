# خطة التنفيذ: إنشاء السيرة الذاتية (FEAT-CV-CREATION)

## 1. نظرة عامة
ميزة تسمح للمستخدمين بإنشاء سيرة ذاتية احترافية من خلال واجهة سهلة الاستخدام، مع تخزين البيانات في قاعدة بيانات وإمكانية التعديل والمشاركة.

## 2. المكونات الرئيسية

### 2.1 Backend (C# .NET 8 + ABP Framework)
- **CV Entity**: كائن يمثل السيرة الذاتية
- **CV Service**: خدمة لإدارة عمليات CRUD
- **CV Controller**: واجهة API للتعامل مع السير الذاتية
- **CV DTOs**: كائنات نقل البيانات

### 2.2 Frontend (Angular 17)
- **CV Creation Component**: مكون إنشاء السيرة الذاتية
- **CV Form Component**: نموذج إدخال البيانات
- **CV Preview Component**: معاينة السيرة الذاتية
- **CV List Component**: قائمة السير الذاتية

### 2.3 Database (PostgreSQL)
- **CVs Table**: جدول تخزين السير الذاتية
- **CV Sections Table**: جدول أقسام السيرة الذاتية
- **CV Items Table**: جدول عناصر السيرة الذاتية

## 3. تدفق العمل

### 3.1 إنشاء سيرة ذاتية جديدة
1. المستخدم يفتح صفحة إنشاء السيرة الذاتية
2. يملأ النموذج بالمعلومات الشخصية والمهنية
3. يضيف الأقسام المختلفة (التعليم، الخبرة، المهارات، إلخ)
4. يعاين السيرة الذاتية قبل الحفظ
5. يحفظ السيرة الذاتية في قاعدة البيانات

### 3.2 تعديل سيرة ذاتية موجودة
1. المستخدم يفتح قائمة سيرته الذاتية
2. يختار السيرة الذاتية المراد تعديلها
3. يقوم بالتعديلات المطلوبة
4. يحفظ التعديلات

### 3.3 معاينة ومشاركة السيرة الذاتية
1. المستخدم يعاين السيرة الذاتية بتنسيقات مختلفة
2. يمكنه تصديرها كملف PDF
3. يمكنه مشاركة رابط خاص مع الحفاظ على الخصوصية

## 4. واجهات API

### 4.1 Endpoints
```
GET    /api/cv           - الحصول على قائمة السير الذاتية
GET    /api/cv/{id}      - الحصول على سيرة ذاتية محددة
POST   /api/cv           - إنشاء سيرة ذاتية جديدة
PUT    /api/cv/{id}      - تحديث سيرة ذاتية موجودة
DELETE /api/cv/{id}      - حذف سيرة ذاتية
GET    /api/cv/{id}/export - تصدير السيرة الذاتية
```

### 4.2 نماذج البيانات
```csharp
public class CvDto
{
    public Guid Id { get; set; }
    public string Title { get; set; }
    public string FullName { get; set; }
    public string Email { get; set; }
    public string Phone { get; set; }
    public string Summary { get; set; }
    public List<CvSectionDto> Sections { get; set; }
    public DateTime CreatedAt { get; set; }
    public DateTime UpdatedAt { get; set; }
}

public class CvSectionDto
{
    public string Type { get; set; } // Education, Experience, Skills, etc.
    public string Title { get; set; }
    public List<CvItemDto> Items { get; set; }
}

public class CvItemDto
{
    public string Title { get; set; }
    public string Description { get; set; }
    public string Period { get; set; }
    public string Location { get; set; }
}
```

## 5. واجهة المستخدم

### 5.1 الصفحات
- **صفحة إنشاء السيرة الذاتية**: نموذج متعدد الخطوات
- **صفحة معاينة السيرة الذاتية**: عرض بتنسيق احترافي
- **صفحة قائمة السير الذاتية**: عرض جميع السير الذاتية للمستخدم
- **صفحة تعديل السيرة الذاتية**: نفس صفحة الإنشاء مع بيانات موجودة

### 5.2 المكونات
- **CV Form Wizard**: معالج متعدد الخطوات
- **Section Editor**: محرر الأقسام
- **Item Editor**: محرر العناصر
- **Live Preview**: معاينة حية أثناء الكتابة
- **Export Options**: خيارات التصدير

## 6. الأمان والخصوصية

### 6.1 التحكم في الوصول
- فقط المستخدم المسجل يمكنه إنشاء وتعديل سيرته الذاتية
- يمكن للمستخدم مشاركة سيرته الذاتية مع رابط خاص
- البيانات الحساسة مخفية عند التصدير للزوار

### 6.2 صلاحيات المستخدم
- **المالك**: كامل الصلاحيات (إنشاء، قراءة، تحديث، حذف)
- **الزائر**: قراءة فقط (إذا كان هناك رابط مشاركة)

## 7. الجدول الزمني المقترح

### الأسبوع 1: Backend الأساسي
- إنشاء CV Entity و Service
- تنفيذ عمليات CRUD الأساسية
- إنشاء واجهات API

### الأسبوع 2: Frontend الأساسي
- إنشاء مكونات Angular الأساسية
- تنفيذ نموذج إدخال البيانات
- ربط Frontend مع Backend

### الأسبوع 3: الميزات المتقدمة
- إضافة معاينة حية
- تنفيذ خيارات التصدير
- إضافة التحقق من البيانات

### الأسبوع 4: الاختبار والتحسين
- اختبار الوظائف
- تحسين الأداء
- إصلاح الأخطاء

## 8. الاعتبارات الفنية

### 8.1 الأداء
- استخدام التخزين المؤقت للبيانات المتكررة
- تحسين استعلامات قاعدة البيانات
- تقليل حجم البيانات المنقولة

### 8.2 قابلية التوسع
- تصميم قاعدة بيانات قابلة للتوسع
- استخدام أنماط تصميم مرنة
- إعداد بنية تحتية قابلة للتوسع

### 8.3 الصيانة
- توثيق واضح للكود
- اتباع أفضل الممارسات
- إعداد اختبارات وحدة واختبارات تكامل